<!DOCTYPE html>
<html lang="en">

   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="shortcut icon" href="../../img/icons/favicon.png" type="image/x-icon">
      <title>–†—ñ—à–µ–Ω–Ω—è –∑–∞–¥–∞—á—ñ ‚Ññ6</title>
   </head>

   <body>
      <h1>–†—ñ—à–µ–Ω–Ω—è –∑–∞–¥–∞—á—ñ ‚Ññ6</h1>
      <p>–î–∞–Ω–æ –¥–≤–∞ –∫–ª–∞—Å–∏ MultChecker (–∫–ª–∞—Å –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ç–∞–±–ª–∏—Ü—ñ –º–Ω–æ–∂–µ–Ω–Ω—è - —Ä–∞–Ω–¥–æ–º–Ω–æ –≥–µ–Ω–µ—Ä—É—é—Ç—å—Å—è —á–∏—Å–ª–∞, —è–∫—ñ —Ç—Ä–µ–±–∞
         –ø–µ—Ä–µ–º–Ω–æ–∂–∞—Ç–∏), AddChecker (–∫–ª–∞—Å –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—è - —Ä–∞–Ω–¥–æ–º–Ω–æ –≥–µ–Ω–µ—Ä—É—é—Ç—å—Å—è —á–∏—Å–ª–∞ —É –∑–∞–¥–∞–Ω–æ–º—É –¥—ñ–∞–ø–∞–∑–æ–Ω—ñ, —è–∫—ñ
         —Ç—Ä–µ–±–∞ –¥–æ–¥–∞–≤–∞—Ç–∏). –û–±–∏–¥–≤–∞ –∫–ª–∞—Å–∏ –Ω–∞–¥—Å–∏–ª–∞—é—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –æ–±'—î–∫—Ç—É –∫–ª–∞—Å—É Hystory, —è–∫–∏–π –∑–±–µ—Ä—ñ–≥–∞—î —ñ—Å—Ç–æ—Ä—ñ—é
         —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —É –º–∞—Å–∏–≤—ñ —É –≤–∏–≥–ª—è–¥—ñ –æ–±'—î–∫—Ç—ñ–≤ –ü—Ä–∏–∫–ª–∞–¥. testsList= [ {firstNum:1, secondNum:5,opration:‚Äô*‚Äô,
         userAnswer:7, correctAnswer:5}, {firstNum:3, secondNum:4,opration:‚Äô+‚Äô, userAnswer:7, correctAnswer:7}, ] –ú–æ–∂–Ω–∞
         —Å—Ç–≤–æ—Ä–∏—Ç–∏ –æ–∫—Ä–µ–º–∏–π –∫–ª–∞—Å TestData, —è–∫–∏–π –æ–ø–∏—Å—É—î –æ–¥–∏–Ω —Ç–∞–∫–∏–π —Ç–µ—Å—Ç —ñ —É —è–∫–æ–º—É –±—É–¥—É—Ç—å —Ü—ñ –ø–æ–ª—è. –†–æ–∑—Ä–æ–±–∏—Ç–∏ –∫–ª–∞—Å
         TestManager, —è–∫–∏–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Ü—ñ –∫–ª–∞—Å–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Ç–∞–π–º–µ—Ä–∞ –ø–µ—Ä—ñ–æ–¥–∏—á–Ω–æ –≥–µ–Ω–µ—Ä—É—î —è–∫—ñ—Å—å N –∑–∞–¥–∞—á (—Ä–∞–Ω–¥–æ–º–Ω–æ
         –≤–∏–±–∏—Ä–∞—î–º–æ, —â–æ –æ–ø–∏—Ç—É–≤–∞—Ç–∏: –¥–æ–¥–∞–≤–∞–Ω–Ω—è —á–∏ –º–Ω–æ–∂–µ–Ω–Ω—è) —ñ –ø—Ä–æ–≤–æ–¥–∏—Ç—å –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è. –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –¥–æ–¥–∞—é—Ç—å—Å—è –≤
         –æ–±‚Äô—î–∫—Ç History. –ó—Ä–æ–±–∏—Ç–∏ —Ç–∞–∫, —â–æ–± –æ–±'—î–∫—Ç —Ç–∞–∫–æ–≥–æ –∫–ª–∞—Å—É –º–æ–∂–Ω–∞ –±—É–ª–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ç—ñ–ª—å–∫–∏ –æ–¥–∏–Ω. –ö–æ–ª–∏ –∑—Ä–æ–±–ª–µ–Ω–æ —Ü—ñ N –∑–∞–¥–∞—á
         –≤–∏–≤–µ—Å—Ç–∏ —É—Å—é —ñ—Å—Ç–æ—Ä—ñ—é –Ω–∞ –µ–∫—Ä–∞–Ω.</p>
      <p>–†—ñ—à–µ–Ω–Ω—è:</p>
      <script>
         "use strict"
         // ===== BEGIN ===== //
         class History {
            static testList = []
            static counterTask = 1
            static numCorrectAnswer = 0
            static numIncorrectAnswer = 0
            constructor(firstNum, operation, secondNum, userAnswer) {
               this.firstNum = firstNum
               this.operation = operation
               this.secondNum = secondNum
               this.userAnswer = userAnswer
               if (operation === '*') this.correctAnswer = this.firstNum * this.secondNum
               if (operation === '+') this.correctAnswer = this.firstNum + this.secondNum
               History.testList.push(this)
            }
            toString() {
               let check
               if (this.userAnswer === this.correctAnswer) {
                  check = '‚úÖ'
                  History.numCorrectAnswer++
               } else {
                  check = `‚ùå (–ø—Ä–∞–≤–∏–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å : ${this.correctAnswer})`
                  History.numIncorrectAnswer++
               }
               return `${this.firstNum} ${this.operation} ${this.secondNum} = 
               ${this.userAnswer} ${check}<br><br>
               `
            }
         }
         class MultChecker {
            constructor() {
               const min = 2, max = 10
               this.firstNum = min + Math.floor(Math.random() * (max - min + 1))
               this.secondNum = min + Math.floor(Math.random() * (max - min + 1))
               let answer = parseFloat(prompt(`–ü—Ä–∏–∫–ª–∞–¥ ‚Ññ${History.counterTask}:\n${this.firstNum} * ${this.secondNum} = ?`))
               !answer ? answer = 0 : answer
               new History(this.firstNum, '*', this.secondNum, answer)
               History.counterTask++
            }
         }
         class AddChecker {
            constructor() {
               const min = 2, max = 20
               this.firstNum = min + Math.floor(Math.random() * (max - min + 1))
               this.secondNum = min + Math.floor(Math.random() * (max - min + 1))
               let answer = parseFloat(prompt(`–ü—Ä–∏–∫–ª–∞–¥ ‚Ññ${History.counterTask}:\n${this.firstNum} + ${this.secondNum} = ?`))
               !answer ? answer = 0 : answer
               new History(this.firstNum, '+', this.secondNum, answer)
               History.counterTask++
            }
         }
         class TestManager {
            static testManagerInstance
            constructor(quantitiTasks, time) {
               if (TestManager.testManagerInstance) {
                  return TestManager.testManagerInstance
               } else {
                  this.time = time * 1000
                  for (let i = 1; i <= quantitiTasks; i++) {
                     setTimeout(() => {
                        this.generateRandomTask()
                        if (i === quantitiTasks) this.printHistory()
                     }, this.time * i)
                  }
                  TestManager.testManagerInstance = this
               }

            }
            generateRandomTask() {
               const randomTask = 1 + Math.floor(Math.random() * (2))
               randomTask === 1 ? new MultChecker() : new AddChecker()
            }
            printHistory() {
               History.testList.forEach(el => { document.write(el) })
               document.write(`
               –ü—Ä–∞–≤–∏–ª—å–Ω–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π: ${History.numCorrectAnswer}<br>
               –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π: ${History.numIncorrectAnswer}<br>`)
               document.write(buttons)
            }
         }



         new TestManager(6, 2)
         new TestManager(100, 1)


         const buttons = `
               <a href="task6.html"> <br><br><br>–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏<br></a>
               <a href="../index.html"> üëà –ù–∞–∑–∞–¥</a>`
      </script>
      <a href="task6.html"> <br><br><br>–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏<br> </a>
      <a href="../index.html"> üëà –ù–∞–∑–∞–¥</a>
   </body>

</html>