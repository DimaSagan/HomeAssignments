<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Рішення задачі №5</title>
</head>

<body>
   <h1>Рішення задачі №5</h1>
   <p>
      Знайти рік, коли прибуток був найбільшим.
   </p>
   <script>
      "use strict"
      
      let webProduct = [
         {
            companyName: "meta",
            director: "mark zuckerberg",
            sponsors: [
               {
                  sponsorLastName: "Kuchma",
                  sponsorFirstName: "Dima",
                  investments: 15000
               },
               {
                  sponsorLastName: "Burda",
                  sponsorFirstName: "Evgen",
                  investments: 1000
               }
            ],
            releaseYear: 2000,
            siteCost: 20000
         },
         {
            companyName: "2d corp",
            director: "Yo Dyagich",
            sponsors: [
               {
                  sponsorLastName: "John",
                  sponsorFirstName: "Soprano",
                  investments: 25000
               },
               {
                  sponsorLastName: "Tucko",
                  sponsorFirstName: "Salamanka",
                  investments: 17000
               }
            ],
            releaseYear: 2010,
            siteCost: 40000
         },

         {
            companyName: "Sloboda Service",
            director: "Evgeniya Stepanovna",
            sponsors: [
               {
                  sponsorLastName: "Selikantiy",
                  sponsorFirstName: "Robot",
                  investments: 250
               },
               {
                  sponsorLastName: "Olha",
                  sponsorFirstName: "Zolochev",
                  investments: 125
               }
            ],
            releaseYear: 2019,
            siteCost: 450
         }
      ]

         function getMaxProfitYear(array){
            let maxProfit = 0
            let maxProfitYear = array[0].releaseYear
           
            for (let i = 0; i < array.length; i++) {
               let profit = 0
               for (let j = 0; j < array[i].sponsors.length; j++) {
                  profit += array[i].sponsors[j].investments
               }
               let siteCost = array[i].siteCost
               let totalProfit = siteCost - profit

               if(totalProfit> maxProfit){
                  maxProfit = totalProfit
                  maxProfitYear = array[i].releaseYear
               }
            }
            return maxProfitYear
         }

let checkMaxProfitYear = getMaxProfitYear(webProduct)
document.write(`Рік, коли прибуток був найбільшим: ${checkMaxProfitYear}`)

   </script>
</body>

</html>